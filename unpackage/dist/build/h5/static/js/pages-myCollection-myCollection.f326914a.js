(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-myCollection-myCollection"],{"3fbf":function(t,e,i){"use strict";var n=i("a134"),o=i.n(n);o.a},"74b3":function(t,e,i){"use strict";i("4160"),i("caad"),i("d81d"),i("2532"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{courseCollectionArr:[],editText:"编辑",isEdit:!1,cancelId:[],checkkAll:!1,uid:""}},onLoad:function(t){var e=this;uni.getStorage({key:"uid",success:function(t){e.uid=t.data,uni.request({url:"http://58.87.94.58:4000/api/queryMyEsxzCollectionData",method:"GET",data:{userId:e.uid},success:function(t){console.log(t),e.courseCollectionArr=t.data}})}})},methods:{toDetail:function(t){uni.navigateTo({url:"../secondHandDetail/secondHandDetail?id=".concat(t.currentTarget.dataset.id)})},onEdit:function(){this.isEdit?(this.editText="编辑",this.isEdit=!1):(this.editText="完成",this.isEdit=!0)},singleSelect:function(t){console.log(t),this.cancelId=t.detail.value,console.log(this.cancelId)},allSelect:function(t){var e=this;"all"==t.detail.value?(this.ckAll=!0,this.courseCollectionArr.forEach((function(t){t.check=e.ckAll;var i=t.goodsId;e.cancelId.includes(i)?console.log("重复id"):e.cancelId.push(i),console.log(e.cancelId)}))):(this.ckAll=!1,this.courseCollectionArr.map((function(t){return t.check=e.ckAll})),this.cancelId=[],console.log(this.cancelId))},onCancelCollection:function(){console.log(this.cancelId),uni.request({url:"http://58.87.94.58:4000/api/deleteMyEsxzCollectionData",method:"POST",data:{userId:this.uid,deletIds:this.cancelId},success:function(t){console.log(t),uni.showToast({title:"删除成功",icon:"success",success:function(t){uni.redirectTo({url:"../myCollection/myCollection"})}})}})}}};e.default=n},a134:function(t,e,i){var n=i("f103");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("3b5e0558",n,!0,{sourceMap:!1,shadowMode:!1})},b2f4:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"index"},[i("v-uni-view",{staticClass:"collectionItem"},[i("v-uni-view",{staticClass:"itemTop"},[i("v-uni-view",[t._v("共计"),i("v-uni-text",{staticStyle:{color:"#D43C43",padding:"0rpx 5rpx"}},[t._v(t._s(t.courseCollectionArr.length))]),t._v("件收藏")],1),i("v-uni-view",{staticStyle:{color:"#D43C43",padding:"20rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onEdit.apply(void 0,arguments)}}},[t._v(t._s(t.editText))])],1),i("v-uni-view",{staticClass:"itemMid"},[i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.singleSelect.apply(void 0,arguments)}}},t._l(t.courseCollectionArr,(function(e,n){return i("v-uni-view",{key:n,staticClass:"billItem",attrs:{"data-id":e.index},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail.apply(void 0,arguments)}}},[i("v-uni-checkbox",{attrs:{value:e.goodsId,checked:e.check,hidden:!t.isEdit}}),i("v-uni-view",{staticClass:"leftDetail"},[i("v-uni-image",{staticClass:"goodsImg",attrs:{src:e.goodsUrl[0]}})],1),i("v-uni-view",{staticClass:"rightDetail"},[i("v-uni-view",{staticClass:"itemName"},[t._v(t._s(e.goodsName))]),i("v-uni-view",{staticClass:"itemNum"},[i("v-uni-view",{staticClass:"itemPrice"},[t._v("￥"+t._s(e.goodsPrice))]),i("v-uni-view",{staticClass:"itemNumber"},[t._v("数量："),i("v-uni-text",{staticStyle:{color:"#DD524D"}},[t._v("1")])],1)],1)],1)],1)})),1)],1)],1),i("v-uni-view",{staticClass:"itemBottom"},[i("v-uni-view",{staticClass:"bottomBar",attrs:{hidden:!t.isEdit}},[i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.allSelect.apply(void 0,arguments)}}},[i("v-uni-checkbox",{attrs:{value:"all",checked:t.checkkAll}},[t._v("全选")])],1),i("v-uni-button",{staticClass:"cancelBtn",attrs:{type:"warn"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onCancelCollection.apply(void 0,arguments)}}},[t._v("取消收藏")])],1)],1)],1)},a=[]},bebc:function(t,e,i){"use strict";i.r(e);var n=i("74b3"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},d6d7:function(t,e,i){"use strict";i.r(e);var n=i("b2f4"),o=i("bebc");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("3fbf");var c,l=i("f0c5"),s=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,"db88df00",null,!1,n["a"],c);e["default"]=s.exports},f103:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".storeCollection[data-v-db88df00]{border-top:%?4?% solid #e3e3e3}.goodsCollection[data-v-db88df00]{color:grey;height:100vh;background-color:#e3e3e3}.itemTop[data-v-db88df00]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?0?% %?20?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?80?%;font-size:%?26?%;border-bottom:%?10?% solid #f1f1f1}.billItem[data-v-db88df00]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?16?%;background-color:#fff;border-bottom:1px solid #e5e5e5;margin-left:10px;margin-top:%?20?%;overflow:hidden;color:grey}.bottomBar[data-v-db88df00]{background-color:hsla(0,0%,100%,.6);height:%?120?%;display:-webkit-box;display:-webkit-flex;display:flex;padding:0 %?18?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;left:0;right:0;bottom:0}.cancelBtn[data-v-db88df00]{margin-left:%?400?%;width:%?180?%;font-size:%?26?%}.itemName[data-v-db88df00]{margin-top:%?8?%;font-size:%?30?%;font-weight:700;color:#505050;line-height:%?50?%}.itemNum[data-v-db88df00]{display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?40?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.itemPrice[data-v-db88df00]{color:#fa4b22;font-weight:400}.itemNumber[data-v-db88df00]{margin-left:%?300?%}.goodsImg[data-v-db88df00]{width:%?140?%;height:%?140?%;border-radius:%?10?%;margin-right:%?10?%;border:%?2?% solid #ccc}",""]),t.exports=e}}]);